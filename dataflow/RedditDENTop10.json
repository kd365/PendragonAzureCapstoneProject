{
	"name": "RedditDENTop10",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "RedditAppTestService",
						"type": "DatasetReference"
					},
					"name": "RedditRaw"
				}
			],
			"sinks": [
				{
					"dataset": {
						"referenceName": "RedditAppTestStorage",
						"type": "DatasetReference"
					},
					"name": "RedditSink"
				}
			],
			"transformations": [],
			"scriptLines": [
				"source(output(",
				"          kind as string,",
				"          data as (after as string, dist as integer, modhash as string, geo_filter as string, children as (kind as string, data as (approved_at_utc as string, subreddit as string, selftext as string, author_fullname as string, saved as boolean, mod_reason_title as string, gilded as integer, clicked as boolean, title as string, link_flair_richtext as string[], subreddit_name_prefixed as string, hidden as boolean, pwls as integer, link_flair_css_class as string, downs as integer, thumbnail_height as string, top_awarded_type as string, hide_score as boolean, name as string, quarantine as boolean, link_flair_text_color as string, upvote_ratio as double, author_flair_background_color as string, subreddit_type as string, ups as integer, total_awards_received as integer, media_embed as ({} as string), thumbnail_width as string, author_flair_template_id as string, is_original_content as boolean, user_reports as string[], secure_media as string, is_reddit_media_domain as boolean, is_meta as boolean, category as string, secure_media_embed as ({} as string), link_flair_text as string, can_mod_post as boolean, score as integer, approved_by as string, is_created_from_ads_ui as boolean, author_premium as boolean, thumbnail as string, edited as boolean, author_flair_css_class as string, author_flair_richtext as string[], gildings as ({} as string), content_categories as string, is_self as boolean, mod_note as string, created as double, link_flair_type as string, wls as integer, removed_by_category as string, banned_by as string, author_flair_type as string, domain as string, allow_live_comments as boolean, selftext_html as string, likes as string, suggested_sort as string, banned_at_utc as string, view_count as string, archived as boolean, no_follow as boolean, is_crosspostable as boolean, pinned as boolean, over_18 as boolean, all_awardings as string[], awarders as string[], media_only as boolean, link_flair_template_id as string, can_gild as boolean, spoiler as boolean, locked as boolean, author_flair_text as string, treatment_tags as string[], visited as boolean, removed_by as string, num_reports as string, distinguished as string, subreddit_id as string, author_is_blocked as boolean, mod_reason_by as string, removal_reason as string, link_flair_background_color as string, id as string, is_robot_indexable as boolean, report_reasons as string, author as string, discussion_type as string, num_comments as integer, send_replies as boolean, whitelist_status as string, contest_mode as boolean, mod_reports as string[], author_patreon_flair as boolean, author_flair_text_color as string, permalink as string, parent_whitelist_status as string, stickied as boolean, url as string, subreddit_subscribers as integer, created_utc as double, num_crossposts as integer, media as string, is_video as boolean))[], before as string)",
				"     ),",
				"     allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     ignoreNoFilesFound: false,",
				"     documentForm: 'documentPerLine') ~> RedditRaw",
				"RedditRaw sink(allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     input(",
				"          kind as string,",
				"          data as (after as string, dist as integer, modhash as string, geo_filter as string, children as (kind as string, data as (approved_at_utc as string, subreddit as string, selftext as string, author_fullname as string, saved as boolean, mod_reason_title as string, gilded as integer, clicked as boolean, title as string, link_flair_richtext as string[], subreddit_name_prefixed as string, hidden as boolean, pwls as integer, link_flair_css_class as string, downs as integer, thumbnail_height as string, top_awarded_type as string, hide_score as boolean, name as string, quarantine as boolean, link_flair_text_color as string, upvote_ratio as double, author_flair_background_color as string, subreddit_type as string, ups as integer, total_awards_received as integer, media_embed as ({} as string), thumbnail_width as string, author_flair_template_id as string, is_original_content as boolean, user_reports as string[], secure_media as string, is_reddit_media_domain as boolean, is_meta as boolean, category as string, secure_media_embed as ({} as string), link_flair_text as string, can_mod_post as boolean, score as integer, approved_by as string, is_created_from_ads_ui as boolean, author_premium as boolean, thumbnail as string, edited as boolean, author_flair_css_class as string, author_flair_richtext as string[], gildings as ({} as string), content_categories as string, is_self as boolean, mod_note as string, created as double, link_flair_type as string, wls as integer, removed_by_category as string, banned_by as string, author_flair_type as string, domain as string, allow_live_comments as boolean, selftext_html as string, likes as string, suggested_sort as string, banned_at_utc as string, view_count as string, archived as boolean, no_follow as boolean, is_crosspostable as boolean, pinned as boolean, over_18 as boolean, all_awardings as string[], awarders as string[], media_only as boolean, link_flair_template_id as string, can_gild as boolean, spoiler as boolean, locked as boolean, author_flair_text as string, treatment_tags as string[], visited as boolean, removed_by as string, num_reports as string, distinguished as string, subreddit_id as string, author_is_blocked as boolean, mod_reason_by as string, removal_reason as string, link_flair_background_color as string, id as string, is_robot_indexable as boolean, report_reasons as string, author as string, discussion_type as string, num_comments as integer, send_replies as boolean, whitelist_status as string, contest_mode as boolean, mod_reports as string[], author_patreon_flair as boolean, author_flair_text_color as string, permalink as string, parent_whitelist_status as string, stickied as boolean, url as string, subreddit_subscribers as integer, created_utc as double, num_crossposts as integer, media as string, is_video as boolean))[], before as string)",
				"     ),",
				"     skipDuplicateMapInputs: true,",
				"     skipDuplicateMapOutputs: true,",
				"     mapColumn(",
				"          Author = data.children[1].data.author_fullname,",
				"          Title = data.children[1].data.title,",
				"          Text = data.children[1].data.selftext,",
				"          upvote_ratio = data.children[1].data.upvote_ratio",
				"     )) ~> RedditSink"
			]
		}
	}
}